# è§£å†³å®‰è£…é—®é¢˜æŒ‡å—

## é—®é¢˜æè¿°

å®‰è£…æ—¶å¡åœ¨ `Preparing metadata (pyproject.toml) ... \` è¿™ä¸€æ­¥ã€‚

## åŸå› åˆ†æ

1. **`pydantic-core` éœ€è¦ç¼–è¯‘**ï¼šæ—§ç‰ˆæœ¬çš„ `pydantic-core==2.14.1` éœ€è¦ä»æºç ç¼–è¯‘
2. **ç½‘ç»œé€Ÿåº¦æ…¢**ï¼šä¸‹è½½å’Œç¼–è¯‘è¿‡ç¨‹è¶…æ—¶
3. **ç¼ºå°‘ç¼–è¯‘å·¥å…·**ï¼šWindows ä¸Šå¯èƒ½ç¼ºå°‘ C++ ç¼–è¯‘å™¨

## è§£å†³æ–¹æ¡ˆ

### ğŸš€ æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ä¼˜åŒ–çš„å¿«é€Ÿå®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰

æˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªä¼˜åŒ–çš„å®‰è£…è„šæœ¬ `setup_fast.bat`ï¼Œå®ƒä¼šï¼š
- âœ… ä½¿ç”¨å›½å†…é•œåƒæºï¼ˆæ¸…åã€é˜¿é‡Œäº‘ï¼‰åŠ é€Ÿä¸‹è½½
- âœ… å‡çº§åˆ°æ–°ç‰ˆæœ¬çš„ä¾èµ–ï¼ˆæœ‰é¢„ç¼–è¯‘çš„ wheel åŒ…ï¼‰
- âœ… è‡ªåŠ¨é‡è¯•å¤±è´¥çš„å®‰è£…

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
åŒå‡»è¿è¡Œ setup_fast.bat
```

### ğŸ”§ æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨åˆ†æ­¥å®‰è£…

å¦‚æœå¿«é€Ÿå®‰è£…è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œä½¿ç”¨åˆ†æ­¥å®‰è£…è„šæœ¬ï¼š

```bash
åŒå‡»è¿è¡Œ install_backend_manual.bat
```

è¿™ä¸ªè„šæœ¬ä¼šä¸€æ­¥ä¸€æ­¥å®‰è£…æ¯ä¸ªä¾èµ–ï¼Œå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å“ªä¸€æ­¥å‡ºäº†é—®é¢˜ã€‚

### ğŸ’» æ–¹æ¡ˆä¸‰ï¼šå‘½ä»¤è¡Œæ‰‹åŠ¨å®‰è£…

1. **åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**
   ```bash
   cd backend
   python -m venv venv
   venv\Scripts\activate
   ```

2. **å‡çº§ pipï¼ˆé‡è¦ï¼ï¼‰**
   ```bash
   python -m pip install --upgrade pip -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

3. **å®‰è£…ä¾èµ–ï¼ˆä½¿ç”¨æ¸…åé•œåƒï¼‰**
   ```bash
   pip install fastapi uvicorn[standard] python-dotenv -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

4. **å®‰è£…æ–°ç‰ˆæœ¬çš„ pydanticï¼ˆæœ‰é¢„ç¼–è¯‘åŒ…ï¼‰**
   ```bash
   pip install "pydantic>=2.10.0" pydantic-settings sse-starlette -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

5. **å®‰è£… AutoGen**
   ```bash
   pip install autogen-agentchat autogen-ext[openai] -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

6. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   copy env.example .env
   ```
   ç„¶åç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„ OpenAI API Key

### ğŸŒ æ–¹æ¡ˆå››ï¼šæ›´æ¢é•œåƒæº

å¦‚æœæ¸…åé•œåƒæ…¢ï¼Œå¯ä»¥å°è¯•å…¶ä»–é•œåƒï¼š

**é˜¿é‡Œäº‘é•œåƒï¼š**
```bash
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/
```

**è…¾è®¯äº‘é•œåƒï¼š**
```bash
pip install -r requirements.txt -i https://mirrors.cloud.tencent.com/pypi/simple/
```

**è±†ç“£é•œåƒï¼š**
```bash
pip install -r requirements.txt -i https://pypi.douban.com/simple/
```

### ğŸ› ï¸ æ–¹æ¡ˆäº”ï¼šå®‰è£… Visual Studio Build Toolsï¼ˆå¦‚æœéœ€è¦ç¼–è¯‘ï¼‰

å¦‚æœå¿…é¡»ä½¿ç”¨æ—§ç‰ˆæœ¬çš„ pydanticï¼Œéœ€è¦å®‰è£…ç¼–è¯‘å·¥å…·ï¼š

1. ä¸‹è½½ Visual Studio Build Toolsï¼š
   https://visualstudio.microsoft.com/visual-cpp-build-tools/

2. å®‰è£…æ—¶é€‰æ‹©ï¼š
   - âœ… "ä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘"
   - âœ… "MSVC v142 æˆ–æ›´é«˜ç‰ˆæœ¬"
   - âœ… "Windows 10 SDK"

3. å®‰è£…å®Œæˆåé‡æ–°è¿è¡Œå®‰è£…è„šæœ¬

## éªŒè¯å®‰è£…

å®‰è£…å®Œæˆåï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸï¼š

```bash
cd backend
venv\Scripts\activate
python -c "import fastapi; import autogen_agentchat; print('âœ“ å®‰è£…æˆåŠŸï¼')"
```

å¦‚æœæ˜¾ç¤º `âœ“ å®‰è£…æˆåŠŸï¼` è¯´æ˜å®‰è£…æ­£ç¡®ã€‚

## å‰ç«¯å®‰è£…

å¦‚æœåç«¯å®‰è£…æˆåŠŸï¼Œå‰ç«¯å®‰è£…é€šå¸¸ä¸ä¼šæœ‰é—®é¢˜ï¼š

```bash
cd frontend
npm install --registry=https://registry.npmmirror.com
```

## å¸¸ç”¨é•œåƒæºé…ç½®

### Python pip æ°¸ä¹…é…ç½®é•œåƒæº

åˆ›å»ºæˆ–ç¼–è¾‘ `C:\Users\ä½ çš„ç”¨æˆ·å\pip\pip.ini` æ–‡ä»¶ï¼š

```ini
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
trusted-host = pypi.tuna.tsinghua.edu.cn
```

### npm æ°¸ä¹…é…ç½®é•œåƒæº

```bash
npm config set registry https://registry.npmmirror.com
```

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼špip ç‰ˆæœ¬å¤ªæ—§

**è§£å†³ï¼š**
```bash
python -m pip install --upgrade pip
```

### é—®é¢˜ 2ï¼šç½‘ç»œè¶…æ—¶

**è§£å†³ï¼š**
- ä½¿ç”¨å›½å†…é•œåƒæºï¼ˆè§ä¸Šæ–‡ï¼‰
- å¢åŠ è¶…æ—¶æ—¶é—´ï¼š`pip install --timeout 1000 -r requirements.txt`
- ä½¿ç”¨ VPN æˆ–ä»£ç†

### é—®é¢˜ 3ï¼šæƒé™é”™è¯¯

**è§£å†³ï¼š**
- ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦
- æˆ–ä½¿ç”¨ `--user` å‚æ•°ï¼š`pip install --user -r requirements.txt`

### é—®é¢˜ 4ï¼šè™šæ‹Ÿç¯å¢ƒæ¿€æ´»å¤±è´¥

**è§£å†³ï¼š**
```bash
# å¦‚æœ PowerShell æ‰§è¡Œç­–ç•¥é™åˆ¶
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# ç„¶åé‡æ–°æ¿€æ´»
venv\Scripts\activate
```

## æœ€ç®€å•çš„è§£å†³æ–¹æ³•æ€»ç»“

**å¦‚æœæ‚¨åªæƒ³å¿«é€Ÿè§£å†³é—®é¢˜ï¼š**

1. **åœæ­¢å½“å‰å®‰è£…**ï¼ˆæŒ‰ Ctrl+Cï¼‰

2. **è¿è¡Œå¿«é€Ÿå®‰è£…è„šæœ¬**
   ```bash
   åŒå‡» setup_fast.bat
   ```

3. **å¦‚æœè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œè¿è¡Œåˆ†æ­¥å®‰è£…**
   ```bash
   åŒå‡» install_backend_manual.bat
   ```

4. **é…ç½® API Key**
   ```bash
   ç¼–è¾‘ backend\.env æ–‡ä»¶
   OPENAI_API_KEY=sk-your-key-here
   ```

5. **å¯åŠ¨ç³»ç»Ÿ**
   ```bash
   åŒå‡» start_all.bat
   ```

## æŠ€æœ¯æ”¯æŒ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½ä¸è¡Œï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

- Python ç‰ˆæœ¬ï¼š`python --version`
- pip ç‰ˆæœ¬ï¼š`pip --version`
- æ“ä½œç³»ç»Ÿç‰ˆæœ¬
- å®Œæ•´çš„é”™è¯¯ä¿¡æ¯

ç¥æ‚¨å®‰è£…é¡ºåˆ©ï¼ğŸš€

